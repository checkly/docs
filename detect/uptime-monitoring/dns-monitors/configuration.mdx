---
title: 'DNS Monitor Configuration'
description: 'Configure your DNS monitor to verify record resolution.'
sidebarTitle: 'Configuration'
---

{/* <Tip>
To configure a DNS monitor using code, learn more about the [DNS Monitor Construct](/constructs/dns-monitor).
</Tip> */}

### Basic Setup

Specify the domain and record type you want to check:

<Frame>
  <img src="/images/dns-request.png" alt="DNS monitor setup interface showing domain, record type, dns server and protocol" />
</Frame>

* **Domain:** The domain you want to monitor (e.g. checklyhq.com)
* **Record type:** The DNS record to query (A, AAAA, CNAME, MX, TXT, etc.). Defaults to A, which resolves to an IPv4 address
* **DNS server:** Optionally override the default resolver with a specific nameserver (e.g. dns.google). Accepts domain + port or IP address
* **Protocol:** DNS uses UDP by default and upgrades to TCP automatically if needed. You can also pin it to UDP-only or TCP-only

### Assertions

Assertions let you define what the expected result of a DNS query should be.

The raw and JSON responses are shown on the results page of a DNS monitor run and can be used as a reference when defining assertions.

<Frame>
  <img src="/images/dns-assertions.png" alt="DNS monitor assertions and corresponding data fields" />
</Frame>

* **Response time:** The lookup time in milliseconds. Use this to set thresholds for failed lookups

* **Return code:** By default, DNS monitors pass when the return code is NO_ERROR and fail on error codes (FORMERR, SERVFAIL, NXDOMAIN, etc.). You can override this behavior by defining a custom return code assertion

* **Text response:** The raw DNS response as plain text. Use this to check for specific strings in the response

* **JSON response:** The DNS response parsed as JSON. This allows you to target specific fields without relying on regex. Taking the example of an A record lookup for checklyhq.com:

```json
{
  "response": {
    "status": "NOERROR",
    "responseTime": 25,
    "answers": [
      {
        "domainName": "checklyhq.com.",
        "recordType": "A",
        "ttl": 27,
        "resolvedValue": {
          "value": "18.66.102.85"
        }
      },
      {
        "domainName": "checklyhq.com.",
        "recordType": "A",
        "ttl": 27,
        "resolvedValue": {
          "value": "18.66.102.10"
        }
      }
      // ...
    ]
  }
}
```

With JSON path assertions, you could:

* `$.response.answers.length` → assert that checklyhq.com always returns exactly x amount of A records

* `$.response.answers[0].ttl` → assert that the TTL for a record is above or below a given threshold

Learn more about JSON path assertions here: [JSON responses with JSON path](/detect/synthetic-monitoring/api-checks/assertions/#json-responses-with-json-path).

### Response Time Limits

Define performance thresholds for degraded or failed states:

<Frame>
  <img src="/images/tcp-response.png" alt="TCP monitor assertions interface showing response validation options" />
</Frame>

### Frequency

Set how often the monitor runs (every 10 seconds to 24 hours):

<Frame>
  <img src="/images/tcp-frequency.png" alt="TCP monitor frequency selection interface" />
</Frame>

### Scheduling & Locations

<Frame>
  <img src="/images/tcp-scheduling-strategy.png" alt="TCP monitor scheduling strategy and location selection interface" />
</Frame>

* **Strategy:** Choose between round-robin or parallel execution. Learn more about [scheduling strategies](/monitoring/global-locations#scheduling-strategies)
* **Locations:** Select one or more [public](/monitoring/global-locations/) or [private](/platform/private-locations/overview) locations to run the monitor from

### Additional Settings

* **Name:** Give your monitor a clear name to identify it in dashboards and alerts
* **Tags:** Use tags to organize monitors across dashboards and [maintenance windows](/communicate/maintenance-windows/overview)
* **Retries:** Define how failed runs should be retried. See [retry strategies](/communicate/alerts/retries)
* **Alerting:** Configure your [alert settings](/communicate/alerts/configuration), [alert channels](/communicate/alerts/channels), or set up [webhooks](/communicate/alerts/webhooks) for custom integrations