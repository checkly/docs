---
title: 'MaintenanceWindow Construct'
description: 'Learn how to configure maintenance windows with the Checkly CLI.'
sidebarTitle: 'Maintenance Window'
---

Use MaintenanceWindow to schedule planned maintenance periods that prevent your checks from running and triggering alerts during expected downtime.

<Info>
Learn more about maintenance windows in the [Maintenance Windows documentation](/docs/communicate/maintenance-windows/).
</Info>

## `MaintenanceWindow` Examples

<CodeGroup>

```ts One-Time Maintenance
import { MaintenanceWindow } from 'checkly/constructs'

new MaintenanceWindow('server-upgrade', {
  name: 'Server Upgrade Maintenance',
  tags: ['production', 'api'],
  startsAt: new Date('2025-02-15T02:00:00.000Z'),
  endsAt: new Date('2025-02-15T06:00:00.000Z')
})
```

```ts Recurring Maintenance
import { MaintenanceWindow } from 'checkly/constructs'

new MaintenanceWindow('weekly-backup', {
  name: 'Weekly Database Backup',
  tags: ['database', 'backup'],
  startsAt: new Date('2025-02-01T03:00:00.000Z'),
  endsAt: new Date('2025-02-01T04:00:00.000Z'),
  repeatInterval: 1,
  repeatUnit: 'WEEK',
  repeatEndsAt: new Date('2025-12-31T23:59:59.000Z')
})
```

</CodeGroup>

## `MaintenanceWindow` Configuration

<Tabs>
  <Tab title="Basic Configuration">

Configure essential maintenance window settings:

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `name` | `string` | ✅ | - | Friendly name for the maintenance window |
| `tags` | `string[]` | ✅ | - | Tags that filter which checks are affected |
| `startsAt` | `Date` | ✅ | - | Start date and time (ISO 8601 timestamp) |
| `endsAt` | `Date` | ✅ | - | End date and time (ISO 8601 timestamp) |

</Tab>

<Tab title="Recurring Configuration">

Configure recurring maintenance windows:

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `repeatInterval` | `number` | ❌ | - | Repeat interval from the first occurrence |
| `repeatUnit` | `string` | ❌ | - | Repeat strategy: `'WEEK'` \| `'MONTH'` \| `'YEAR'` |
| `repeatEndsAt` | `Date` | ❌ | - | When to stop repeating (ISO 8601 timestamp) |

</Tab>
</Tabs>

## Maintenance Window Examples

<Tabs>
  <Tab title="Database Maintenance">
    ```ts
    new MaintenanceWindow('database-maintenance', {
      name: 'Monthly Database Maintenance',
      tags: ['database', 'production'],
      startsAt: new Date('2025-02-01T02:00:00.000Z'), // First Saturday of month at 2 AM UTC
      endsAt: new Date('2025-02-01T05:00:00.000Z'),   // Ends at 5 AM UTC
      repeatInterval: 1,
      repeatUnit: 'MONTH',
      repeatEndsAt: new Date('2025-12-31T23:59:59.000Z') // Repeat for a year
    })
    ```
  </Tab>
  
  <Tab title="Weekly System Updates">
    ```ts
    new MaintenanceWindow('system-updates', {
      name: 'Weekly System Updates',
      tags: ['infrastructure', 'updates'],
      startsAt: new Date('2025-02-02T01:00:00.000Z'), // Every Sunday at 1 AM UTC
      endsAt: new Date('2025-02-02T02:30:00.000Z'),   // 1.5 hour window
      repeatInterval: 1,
      repeatUnit: 'WEEK',
      repeatEndsAt: new Date('2025-06-01T00:00:00.000Z') // Repeat until June
    })
    ```
  </Tab>
  
  <Tab title="Annual Service Upgrade">
    ```ts
    new MaintenanceWindow('annual-upgrade', {
      name: 'Annual Service Upgrade',
      tags: ['all-services'],
      startsAt: new Date('2025-12-25T00:00:00.000Z'), // Christmas Day
      endsAt: new Date('2025-12-26T08:00:00.000Z'),   // 32-hour window
      repeatInterval: 1,
      repeatUnit: 'YEAR',
      repeatEndsAt: new Date('2030-01-01T00:00:00.000Z') // Repeat for 5 years
    })
    ```
  </Tab>
  
  <Tab title="Emergency Maintenance">
    ```ts
    // For immediate one-time maintenance
    const now = new Date()
    const inOneHour = new Date(now.getTime() + (60 * 60 * 1000))
    const inFourHours = new Date(now.getTime() + (4 * 60 * 60 * 1000))

    new MaintenanceWindow('emergency-fix', {
      name: 'Emergency Security Patch',
      tags: ['security', 'critical'],
      startsAt: inOneHour,   // Start in 1 hour
      endsAt: inFourHours    // End in 4 hours (no repeat)
    })
    ```
  </Tab>
  
  <Tab title="Regional Maintenance">
    ```ts
    // US East maintenance
    new MaintenanceWindow('us-east-maintenance', {
      name: 'US East Data Center Maintenance',
      tags: ['us-east', 'infrastructure'],
      startsAt: new Date('2025-02-15T05:00:00.000Z'), // 12 AM EST
      endsAt: new Date('2025-02-15T09:00:00.000Z'),   // 4 AM EST
      repeatInterval: 3,
      repeatUnit: 'MONTH', // Every 3 months
      repeatEndsAt: new Date('2025-12-31T23:59:59.000Z')
    })

    // Europe maintenance (different time)
    new MaintenanceWindow('europe-maintenance', {
      name: 'Europe Data Center Maintenance',
      tags: ['europe', 'infrastructure'],
      startsAt: new Date('2025-02-16T02:00:00.000Z'), // 3 AM CET
      endsAt: new Date('2025-02-16T06:00:00.000Z'),   // 7 AM CET
      repeatInterval: 3,
      repeatUnit: 'MONTH',
      repeatEndsAt: new Date('2025-12-31T23:59:59.000Z')
    })
    ```
  </Tab>
  
  <Tab title="Service-Specific Maintenance">
    ```ts
    // API service maintenance
    new MaintenanceWindow('api-maintenance', {
      name: 'API Service Upgrade',
      tags: ['api', 'backend'],
      startsAt: new Date('2025-02-20T03:00:00.000Z'),
      endsAt: new Date('2025-02-20T04:00:00.000Z')
    })

    // Frontend deployment
    new MaintenanceWindow('frontend-deployment', {
      name: 'Frontend Deployment',
      tags: ['frontend', 'web'],
      startsAt: new Date('2025-02-20T04:30:00.000Z'),
      endsAt: new Date('2025-02-20T05:00:00.000Z')
    })

    // Database migration (longer window)
    new MaintenanceWindow('database-migration', {
      name: 'Database Schema Migration',
      tags: ['database', 'migration'],
      startsAt: new Date('2025-02-22T01:00:00.000Z'),
      endsAt: new Date('2025-02-22T07:00:00.000Z') // 6-hour window
    })
    ```
  </Tab>
</Tabs>

## Tag-Based Filtering

Maintenance windows affect checks based on tag matching:

<Tabs>
  <Tab title="Specific Services">
    ```ts
    // Only affects checks tagged with 'payment-api'
    new MaintenanceWindow('payment-maintenance', {
      name: 'Payment API Maintenance',
      tags: ['payment-api'],
      startsAt: new Date('2025-02-15T02:00:00.000Z'),
      endsAt: new Date('2025-02-15T03:00:00.000Z')
    })
    ```
  </Tab>
  
  <Tab title="Multiple Tags">
    ```ts
    // Affects checks with ANY of these tags (OR logic)
    new MaintenanceWindow('backend-maintenance', {
      name: 'Backend Services Maintenance',
      tags: ['api', 'database', 'cache'],
      startsAt: new Date('2025-02-15T02:00:00.000Z'),
      endsAt: new Date('2025-02-15T04:00:00.000Z')
    })
    ```
  </Tab>
  
  <Tab title="Environment-Specific">
    ```ts
    // Production maintenance
    new MaintenanceWindow('prod-maintenance', {
      name: 'Production Environment Maintenance',
      tags: ['production'],
      startsAt: new Date('2025-02-15T02:00:00.000Z'),
      endsAt: new Date('2025-02-15T06:00:00.000Z')
    })

    // Staging maintenance (separate window)
    new MaintenanceWindow('staging-maintenance', {
      name: 'Staging Environment Maintenance',
      tags: ['staging'],
      startsAt: new Date('2025-02-14T14:00:00.000Z'), // During business hours
      endsAt: new Date('2025-02-14T16:00:00.000Z')
    })
    ```
  </Tab>
</Tabs>

## Time Zone Considerations

All maintenance windows use UTC timestamps. Convert your local times to UTC:

<Tabs>
  <Tab title="EST/EDT Example">
    ```ts
    // Maintenance during EST night hours (2 AM - 6 AM EST)
    new MaintenanceWindow('est-maintenance', {
      name: 'US East Coast Maintenance',
      tags: ['us-east'],
      startsAt: new Date('2025-02-15T07:00:00.000Z'), // 2 AM EST = 7 AM UTC
      endsAt: new Date('2025-02-15T11:00:00.000Z'),   // 6 AM EST = 11 AM UTC
      repeatInterval: 1,
      repeatUnit: 'WEEK'
    })
    ```
  </Tab>
  
  <Tab title="CET/CEST Example">
    ```ts
    // Maintenance during CET night hours (1 AM - 4 AM CET)
    new MaintenanceWindow('cet-maintenance', {
      name: 'Europe Maintenance',
      tags: ['europe'],
      startsAt: new Date('2025-02-15T00:00:00.000Z'), // 1 AM CET = 12 AM UTC
      endsAt: new Date('2025-02-15T03:00:00.000Z'),   // 4 AM CET = 3 AM UTC
      repeatInterval: 2,
      repeatUnit: 'WEEK'
    })
    ```
  </Tab>
  
  <Tab title="Dynamic Time Calculation">
    ```ts
    // Calculate maintenance window times dynamically
    const getNextSundayAt2AM = () => {
      const now = new Date()
      const nextSunday = new Date(now)
      nextSunday.setDate(now.getDate() + (7 - now.getDay()))
      nextSunday.setUTCHours(2, 0, 0, 0) // 2 AM UTC
      return nextSunday
    }

    const maintenanceStart = getNextSundayAt2AM()
    const maintenanceEnd = new Date(maintenanceStart.getTime() + (3 * 60 * 60 * 1000)) // +3 hours

    new MaintenanceWindow('dynamic-maintenance', {
      name: 'Dynamic Sunday Maintenance',
      tags: ['weekly-maintenance'],
      startsAt: maintenanceStart,
      endsAt: maintenanceEnd,
      repeatInterval: 1,
      repeatUnit: 'WEEK'
    })
    ```
  </Tab>
</Tabs>

## Best Practices

<Warning>
**Tag Matching**: Maintenance windows affect ALL checks that have ANY of the specified tags. Be specific with your tags to avoid affecting unintended checks.
</Warning>

<Info>
**Time Zones**: Always use UTC timestamps for consistency across different time zones. Convert your local maintenance times to UTC.
</Info>

<Tabs>
  <Tab title="Advance Notice">
    ```ts
    // Schedule maintenance well in advance
    const nextMonth = new Date()
    nextMonth.setMonth(nextMonth.getMonth() + 1)
    nextMonth.setUTCHours(2, 0, 0, 0) // 2 AM UTC

    const maintenanceEnd = new Date(nextMonth.getTime() + (4 * 60 * 60 * 1000))

    new MaintenanceWindow('planned-maintenance', {
      name: 'Planned Infrastructure Upgrade',
      tags: ['infrastructure'],
      startsAt: nextMonth,
      endsAt: maintenanceEnd
    })
    ```
  </Tab>
  
  <Tab title="Appropriate Duration">
    ```ts
    // Short maintenance for minor updates
    new MaintenanceWindow('quick-update', {
      name: 'Quick Security Patch',
      tags: ['security'],
      startsAt: new Date('2025-02-15T03:00:00.000Z'),
      endsAt: new Date('2025-02-15T03:30:00.000Z') // 30 minutes
    })

    // Longer maintenance for major changes
    new MaintenanceWindow('major-upgrade', {
      name: 'Major System Upgrade',
      tags: ['all-systems'],
      startsAt: new Date('2025-02-15T02:00:00.000Z'),
      endsAt: new Date('2025-02-15T08:00:00.000Z') // 6 hours
    })
    ```
  </Tab>
</Tabs>