---
title: 'SmsAlertChannel Construct'
description: 'Learn how to configure SMS alert channels with the Checkly CLI.'
sidebarTitle: 'SMS Alert Channel'
---

Use SmsAlertChannel to send SMS notifications to phone numbers when checks fail or recover. SMS alerts are ideal for critical alerts that require immediate attention.

<Info>
Learn more about SMS alerts in the [SMS Delivery documentation](/docs/alerting/sms-delivery/).
</Info>

## `SmsAlertChannel` Structure

<CodeGroup>

```ts Basic Example
import { SmsAlertChannel } from 'checkly/constructs'

const smsChannel = new SmsAlertChannel('sms-channel-1', {
  phoneNumber: '+1234567890'
})
```

```ts Advanced Example
import { SmsAlertChannel } from 'checkly/constructs'

const oncallSms = new SmsAlertChannel('oncall-sms-channel', {
  phoneNumber: '+1234567890',
  sendRecovery: true,
  sendFailure: true,
  sendDegrade: false, // Only critical failures
  sslExpiry: true,
  sslExpiryThreshold: 7 // Alert 7 days before SSL expires
})
```

</CodeGroup>

## `SmsAlertChannel` Configuration

<Tabs>
  <Tab title="Unique Configuration">

Configure SMS-specific settings:

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `phoneNumber` | `string` | ✅ | - | Phone number in international format (e.g., +1234567890) |

</Tab>

<Tab title="Shared Configuration">
Configure common alert channel properties:

| Property | Type | Required | Default | Description |
|----------|------|----------|---------|-------------|
| `sendRecovery` | `boolean` | ❌ | `true` | Send notifications when checks recover |
| `sendFailure` | `boolean` | ❌ | `true` | Send notifications when checks fail |
| `sendDegrade` | `boolean` | ❌ | `false` | Send notifications when checks degrade (API checks only) |
| `sslExpiry` | `boolean` | ❌ | `false` | Send notifications for SSL certificate expiry |
| `sslExpiryThreshold` | `number` | ❌ | `30` | Days before SSL expiry to send notification |

</Tab>
</Tabs>

## SMS Alert Channel Examples

<Tabs>
  <Tab title="On-Call Team">
    ```ts
    import { SmsAlertChannel, ApiCheck } from 'checkly/constructs'

    const oncallSms = new SmsAlertChannel('oncall-sms', {
      phoneNumber: '+1555123456'
    })

    new ApiCheck('critical-api-check', {
      name: 'Critical API Endpoint',
      alertChannels: [oncallSms],
      tags: ['critical', 'production'],
      request: {
        method: 'GET',
        url: 'https://api.example.com/critical'
      }
    })
    ```
  </Tab>
  
  <Tab title="Multiple Team Members">
    ```ts
    const primaryOncall = new SmsAlertChannel('primary-oncall', {
      phoneNumber: '+1555123456'
    })

    const secondaryOncall = new SmsAlertChannel('secondary-oncall', {
      phoneNumber: '+1555654321'
    })

    const teamLead = new SmsAlertChannel('team-lead', {
      phoneNumber: '+1555999888',
      sendFailure: true,
      sendRecovery: false // Only failures
    })

    new ApiCheck('payment-api-check', {
      name: 'Payment API Check',
      alertChannels: [primaryOncall, secondaryOncall, teamLead],
      request: {
        method: 'GET',
        url: 'https://api.example.com/payments/health'
      }
    })
    ```
  </Tab>
  
  <Tab title="Regional On-Call">
    ```ts
    // US on-call
    const usOncall = new SmsAlertChannel('us-oncall', {
      phoneNumber: '+15551234567'
    })

    // Europe on-call
    const euOncall = new SmsAlertChannel('eu-oncall', {
      phoneNumber: '+44123456789'
    })

    // Asia-Pacific on-call
    const apacOncall = new SmsAlertChannel('apac-oncall', {
      phoneNumber: '+81312345678'
    })

    // Regional API checks
    new ApiCheck('us-api-check', {
      name: 'US API Check',
      locations: ['us-east-1', 'us-west-2'],
      alertChannels: [usOncall],
      request: {
        method: 'GET',
        url: 'https://us-api.example.com/health'
      }
    })

    new ApiCheck('eu-api-check', {
      name: 'EU API Check',
      locations: ['eu-west-1'],
      alertChannels: [euOncall],
      request: {
        method: 'GET',
        url: 'https://eu-api.example.com/health'
      }
    })
    ```
  </Tab>
  
  <Tab title="Severity-Based Alerting">
    ```ts
    const criticalSms = new SmsAlertChannel('critical-sms', {
      phoneNumber: '+1555CRITICAL',
      sendFailure: true,
      sendRecovery: true,
      sendDegrade: false // Only for failures
    })

    const warningSms = new SmsAlertChannel('warning-sms', {
      phoneNumber: '+1555WARNING',
      sendFailure: true,
      sendRecovery: false,
      sendDegrade: true // Include degraded performance
    })

    // Critical service
    new ApiCheck('critical-service', {
      name: 'Critical Payment Service',
      alertChannels: [criticalSms],
      tags: ['critical', 'payment'],
      request: {
        method: 'GET',
        url: 'https://payment.example.com/health'
      }
    })

    // Warning-level service
    new ApiCheck('analytics-service', {
      name: 'Analytics Service',
      alertChannels: [warningSms],
      maxResponseTime: 5000,
      degradedResponseTime: 2000,
      tags: ['analytics', 'non-critical'],
      request: {
        method: 'GET',
        url: 'https://analytics.example.com/health'
      }
    })
    ```
  </Tab>
  
  <Tab title="SSL Certificate Monitoring">
    ```ts
    const securitySms = new SmsAlertChannel('security-sms', {
      phoneNumber: '+1555SECURE',
      sendFailure: true,
      sendRecovery: false,
      sslExpiry: true,
      sslExpiryThreshold: 14 // Alert 2 weeks before expiry
    })

    new ApiCheck('ssl-cert-monitor', {
      name: 'SSL Certificate Monitor',
      alertChannels: [securitySms],
      request: {
        method: 'GET',
        url: 'https://secure.example.com'
      }
    })
    ```
  </Tab>
  
  <Tab title="Environment Variables">
    ```ts
    // Store phone numbers securely
    const productionSms = new SmsAlertChannel('prod-sms', {
      phoneNumber: process.env.ONCALL_PHONE_NUMBER!
    })

    new ApiCheck('production-check', {
      name: 'Production API Check',
      alertChannels: [productionSms],
      request: {
        method: 'GET',
        url: 'https://api.example.com/health'
      }
    })
    ```
  </Tab>
</Tabs>

## Phone Number Format

SMS alert channels require phone numbers in international format:

<Tabs>
  <Tab title="Correct Format">
    ```ts
    // US numbers
    const usPhone = new SmsAlertChannel('us-sms', {
      phoneNumber: '+15551234567' // +1 (country code) + area code + number
    })

    // UK numbers
    const ukPhone = new SmsAlertChannel('uk-sms', {
      phoneNumber: '+447911123456' // +44 (country code) + mobile number
    })

    // German numbers
    const dePhone = new SmsAlertChannel('de-sms', {
      phoneNumber: '+491701234567' // +49 (country code) + mobile number
    })
    ```
  </Tab>
  
  <Tab title="Incorrect Format">
    ```ts
    // ❌ Don't use these formats:
    
    // Missing country code
    phoneNumber: '5551234567'
    
    // With spaces or dashes
    phoneNumber: '+1 555-123-4567'
    
    // With parentheses
    phoneNumber: '+1 (555) 123-4567'
    
    // Domestic format
    phoneNumber: '(555) 123-4567'
    ```
  </Tab>
</Tabs>

## Combining with Other Alert Channels

SMS works well in combination with other notification methods:

```ts
import { SmsAlertChannel, EmailAlertChannel, SlackAlertChannel } from 'checkly/constructs'

const criticalSms = new SmsAlertChannel('critical-sms', {
  phoneNumber: '+1555CRITICAL'
})

const teamEmail = new EmailAlertChannel('team-email', {
  address: 'dev-team@example.com'
})

const slackChannel = new SlackAlertChannel('team-slack', {
  url: new URL('https://hooks.slack.com/services/YOUR/WEBHOOK/URL'),
  channel: '#alerts'
})

new ApiCheck('multi-channel-alerts', {
  name: 'Multi-Channel Alert Check',
  alertChannels: [
    criticalSms,    // Immediate SMS for critical issues
    teamEmail,      // Email for documentation
    slackChannel    // Slack for team visibility
  ],
  request: {
    method: 'GET',
    url: 'https://api.example.com/critical-service'
  }
})
```

## Best Practices

<Warning>
**Phone Number Validation**: Always use the correct international format (+country code + number) without spaces, dashes, or other formatting characters.
</Warning>

<Info>
**SMS Limits**: Be mindful of SMS costs and potential rate limits. Use SMS for truly critical alerts and combine with other notification methods for comprehensive coverage.
</Info>

<Tabs>
  <Tab title="Critical Alerts Only">
    ```ts
    // Use SMS sparingly for the most critical alerts
    const emergencySms = new SmsAlertChannel('emergency-sms', {
      phoneNumber: '+1555EMERGENCY',
      sendFailure: true,
      sendRecovery: false, // Reduce SMS volume
      sendDegrade: false   // Only failures
    })

    new ApiCheck('life-critical-system', {
      name: 'Life Critical System',
      alertChannels: [emergencySms],
      tags: ['life-critical', 'emergency'],
      request: {
        method: 'GET',
        url: 'https://life-critical.example.com/health'
      }
    })
    ```
  </Tab>
  
  <Tab title="Escalation Pattern">
    ```ts
    // Start with less intrusive methods, escalate to SMS
    const teamEmail = new EmailAlertChannel('team-email', {
      address: 'team@example.com'
    })

    const urgentSms = new SmsAlertChannel('urgent-sms', {
      phoneNumber: '+1555URGENT'
    })

    // Regular monitoring with email
    new ApiCheck('regular-service', {
      name: 'Regular Service',
      alertChannels: [teamEmail],
      request: {
        method: 'GET',
        url: 'https://api.example.com/regular'
      }
    })

    // Critical service with SMS escalation
    new ApiCheck('critical-service', {
      name: 'Critical Service',
      alertChannels: [teamEmail, urgentSms], // Both email and SMS
      request: {
        method: 'GET',
        url: 'https://api.example.com/critical'
      }
    })
    ```
  </Tab>
</Tabs>