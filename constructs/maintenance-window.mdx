---
title: 'MaintenanceWindow Construct'
description: 'Learn how to configure maintenance windows with the Checkly CLI.'
sidebarTitle: 'Maintenance Window'
---

Use MaintenanceWindow to schedule planned maintenance periods that prevent your checks from running and triggering alerts during expected downtime.

<Info>
Learn more about maintenance windows in the [Maintenance Windows documentation](/docs/communicate/maintenance-windows/).
</Info>

## `MaintenanceWindow` Structure

<CodeGroup>

```ts One-Time Maintenance
import { MaintenanceWindow } from 'checkly/constructs'

new MaintenanceWindow('server-upgrade', {
  name: 'Server Upgrade Maintenance',
  tags: ['production', 'api'],
  startsAt: new Date('2025-02-15T02:00:00.000Z'),
  endsAt: new Date('2025-02-15T06:00:00.000Z')
})
```

```ts Recurring Maintenance
import { MaintenanceWindow } from 'checkly/constructs'

new MaintenanceWindow('weekly-backup', {
  name: 'Weekly Database Backup',
  tags: ['database', 'backup'],
  startsAt: new Date('2025-02-01T03:00:00.000Z'),
  endsAt: new Date('2025-02-01T04:00:00.000Z'),
  repeatInterval: 1,
  repeatUnit: 'WEEK',
  repeatEndsAt: new Date('2025-12-31T23:59:59.000Z')
})
```

</CodeGroup>

| Parameter | Type | Required | Default | Description |
|-----------|------|----------|---------|-------------|
| `name` | `string` | ✅ | - | Friendly name for the maintenance window |
| `tags` | `string[]` | ✅ | - | Tags that filter which checks are affected |
| `startsAt` | `Date` | ✅ | - | Start date and time (ISO 8601 timestamp) |
| `endsAt` | `Date` | ✅ | - | End date and time (ISO 8601 timestamp) |
| `repeatInterval` | `number` | ❌ | - | Repeat interval from the first occurrence |
| `repeatUnit` | `string` | ❌ | - | Repeat strategy: `'WEEK'` \| `'MONTH'` \| `'YEAR'` |
| `repeatEndsAt` | `Date` | ❌ | - | When to stop repeating (ISO 8601 timestamp) |

## `MaintenanceWindow` Options

<ResponseField name="name" type="string" required>
Friendly name for the maintenance window that will be displayed in the Checkly dashboard and used for identification.

### Usage
```ts
new MaintenanceWindow('my-maintenance', {
  name: 'Weekly Database Backup'
})
```

### Examples
<CodeGroup>

```ts Service-Specific
// Service-specific naming
new MaintenanceWindow('api-maintenance', {
  name: 'API Service Upgrade'
})
```

```ts Time-Based
// Time-based naming
new MaintenanceWindow('weekly-updates', {
  name: 'Weekly System Updates'
})
```

```ts Purpose-Based
// Purpose-based naming
new MaintenanceWindow('security-patch', {
  name: 'Emergency Security Patch'
})
```

</CodeGroup>

**Use cases**: Window identification, dashboard display, maintenance tracking.
</ResponseField>

<ResponseField name="tags" type="string[]" required>
Tags that filter which checks are affected by this maintenance window. Checks with ANY of these tags will be paused during the maintenance period.

### Usage
```ts
new MaintenanceWindow('my-maintenance', {
  name: 'API Maintenance',
  tags: ['api', 'backend']
})
```

### Examples
<CodeGroup>

```ts Single Service
// Single service maintenance
new MaintenanceWindow('payment-maintenance', {
  name: 'Payment Service Maintenance',
  tags: ['payment-api']
})
```

```ts Multiple Services
// Multiple services (OR logic)
new MaintenanceWindow('backend-maintenance', {
  name: 'Backend Services Maintenance', 
  tags: ['api', 'database', 'cache'] // Affects checks with ANY of these tags
})
```

```ts Environment-Specific
// Environment-specific
new MaintenanceWindow('prod-maintenance', {
  name: 'Production Maintenance',
  tags: ['production']
})
```

</CodeGroup>

<Warning>
Maintenance windows affect ALL checks that have ANY of the specified tags. Be specific with your tags to avoid affecting unintended checks.
</Warning>

**Use cases**: Service targeting, environment isolation, maintenance scope control.
</ResponseField>

<ResponseField name="startsAt" type="Date" required>
Start date and time for the maintenance window in UTC (ISO 8601 timestamp).

### Usage
```ts
new MaintenanceWindow('my-maintenance', {
  name: 'Database Maintenance',
  startsAt: new Date('2025-02-15T02:00:00.000Z') // 2 AM UTC
})
```

### Examples
<CodeGroup>

```ts Scheduled Maintenance
// Scheduled maintenance
new MaintenanceWindow('planned-maintenance', {
  name: 'Planned Infrastructure Upgrade',
  startsAt: new Date('2025-02-15T02:00:00.000Z'), // Specific time
  tags: ['infrastructure']
})
```

```ts Emergency Maintenance
// Emergency maintenance (immediate)
const now = new Date()
const inOneHour = new Date(now.getTime() + (60 * 60 * 1000))

new MaintenanceWindow('emergency-maintenance', {
  name: 'Emergency Security Patch',
  startsAt: inOneHour, // Start in 1 hour
  tags: ['security']
})
```

```ts Dynamic Calculation
// Dynamic calculation for next occurrence
const getNextSundayAt2AM = () => {
  const now = new Date()
  const nextSunday = new Date(now)
  nextSunday.setDate(now.getDate() + (7 - now.getDay()))
  nextSunday.setUTCHours(2, 0, 0, 0) // 2 AM UTC
  return nextSunday
}

new MaintenanceWindow('weekly-maintenance', {
  name: 'Weekly Sunday Maintenance',
  startsAt: getNextSundayAt2AM(),
  tags: ['weekly-maintenance']
})
```

</CodeGroup>

<Info>
All maintenance windows use UTC timestamps. Convert your local times to UTC for consistency across different time zones.
</Info>

**Use cases**: Scheduled downtime, emergency maintenance, recurring maintenance timing.
</ResponseField>

<ResponseField name="endsAt" type="Date" required>
End date and time for the maintenance window in UTC (ISO 8601 timestamp).

### Usage
```ts
new MaintenanceWindow('my-maintenance', {
  name: 'Database Maintenance',
  startsAt: new Date('2025-02-15T02:00:00.000Z'),
  endsAt: new Date('2025-02-15T06:00:00.000Z') // 4-hour window
})
```

### Examples
<CodeGroup>

```ts Short Window
// Short maintenance window (30 minutes)
new MaintenanceWindow('quick-patch', {
  name: 'Quick Security Patch',
  startsAt: new Date('2025-02-15T03:00:00.000Z'),
  endsAt: new Date('2025-02-15T03:30:00.000Z'),
  tags: ['security']
})
```

```ts Extended Window
// Extended maintenance window (6 hours)
new MaintenanceWindow('major-upgrade', {
  name: 'Major System Upgrade',
  startsAt: new Date('2025-02-15T02:00:00.000Z'),
  endsAt: new Date('2025-02-15T08:00:00.000Z'),
  tags: ['all-systems']
})
```

```ts Calculated End Time
// Calculated end time
const startTime = new Date('2025-02-15T02:00:00.000Z')
const endTime = new Date(startTime.getTime() + (3 * 60 * 60 * 1000)) // +3 hours

new MaintenanceWindow('calculated-window', {
  name: 'Three Hour Maintenance',
  startsAt: startTime,
  endsAt: endTime,
  tags: ['maintenance']
})
```

</CodeGroup>

**Use cases**: Maintenance duration control, downtime limitation, schedule coordination.
</ResponseField>

<ResponseField name="repeatInterval" type="number">
Repeat interval from the first occurrence. Used with `repeatUnit` to create recurring maintenance windows.

### Usage
```ts
new MaintenanceWindow('recurring-maintenance', {
  name: 'Weekly Maintenance',
  repeatInterval: 1, // Every 1 week
  repeatUnit: 'WEEK'
})
```

### Examples
<CodeGroup>

```ts Weekly
// Weekly maintenance
new MaintenanceWindow('weekly-backup', {
  name: 'Weekly Database Backup',
  startsAt: new Date('2025-02-01T03:00:00.000Z'),
  endsAt: new Date('2025-02-01T04:00:00.000Z'),
  repeatInterval: 1,
  repeatUnit: 'WEEK',
  tags: ['database']
})
```

```ts Bi-weekly
// Bi-weekly maintenance
new MaintenanceWindow('biweekly-updates', {
  name: 'Bi-weekly System Updates', 
  repeatInterval: 2, // Every 2 weeks
  repeatUnit: 'WEEK',
  tags: ['system-updates']
})
```

```ts Quarterly
// Quarterly maintenance
new MaintenanceWindow('quarterly-maintenance', {
  name: 'Quarterly Infrastructure Review',
  repeatInterval: 3, // Every 3 months
  repeatUnit: 'MONTH',
  tags: ['infrastructure']
})
```

</CodeGroup>

**Use cases**: Regular maintenance scheduling, automated recurring downtime, consistent maintenance intervals.
</ResponseField>

<ResponseField name="repeatUnit" type="string">
Repeat strategy that defines the time unit for recurring maintenance windows.

### Usage
```ts
new MaintenanceWindow('recurring-maintenance', {
  repeatInterval: 2,
  repeatUnit: 'WEEK' // Every 2 weeks
})
```

### Available Values
- `'WEEK'` - Repeat weekly (every 7 days)
- `'MONTH'` - Repeat monthly 
- `'YEAR'` - Repeat yearly

### Examples
```ts
// Weekly system updates
new MaintenanceWindow('weekly-updates', {
  name: 'Weekly System Updates',
  repeatInterval: 1,
  repeatUnit: 'WEEK',
  startsAt: new Date('2025-02-02T01:00:00.000Z'), // Every Sunday
  endsAt: new Date('2025-02-02T02:30:00.000Z'),
  tags: ['updates']
})

// Monthly database maintenance
new MaintenanceWindow('monthly-db', {
  name: 'Monthly Database Maintenance',
  repeatInterval: 1,
  repeatUnit: 'MONTH',
  startsAt: new Date('2025-02-01T02:00:00.000Z'), // First of each month
  endsAt: new Date('2025-02-01T05:00:00.000Z'),
  tags: ['database']
})

// Annual major upgrade
new MaintenanceWindow('annual-upgrade', {
  name: 'Annual Service Upgrade',
  repeatInterval: 1,
  repeatUnit: 'YEAR',
  startsAt: new Date('2025-12-25T00:00:00.000Z'), // Christmas Day
  endsAt: new Date('2025-12-26T08:00:00.000Z'),
  tags: ['all-services']
})
```

**Use cases**: Time-based recurrence patterns, maintenance scheduling consistency, automated repetition.
</ResponseField>

<ResponseField name="repeatEndsAt" type="Date">
When to stop repeating the maintenance window (ISO 8601 timestamp in UTC). If not specified, the maintenance window will repeat indefinitely.

### Usage
```ts
new MaintenanceWindow('limited-recurring', {
  name: 'Limited Time Maintenance',
  repeatInterval: 1,
  repeatUnit: 'WEEK',
  repeatEndsAt: new Date('2025-12-31T23:59:59.000Z') // Stop at end of year
})
```

### Examples
```ts
// Maintenance ending after 6 months
new MaintenanceWindow('temporary-maintenance', {
  name: 'Temporary Weekly Maintenance',
  startsAt: new Date('2025-02-01T02:00:00.000Z'),
  endsAt: new Date('2025-02-01T03:00:00.000Z'),
  repeatInterval: 1,
  repeatUnit: 'WEEK',
  repeatEndsAt: new Date('2025-08-01T00:00:00.000Z'), // End after 6 months
  tags: ['temporary']
})

// Project-based maintenance window
new MaintenanceWindow('project-maintenance', {
  name: 'Migration Project Maintenance',
  startsAt: new Date('2025-02-01T01:00:00.000Z'),
  endsAt: new Date('2025-02-01T04:00:00.000Z'),
  repeatInterval: 2,
  repeatUnit: 'WEEK',
  repeatEndsAt: new Date('2025-06-01T00:00:00.000Z'), // Project completion
  tags: ['migration']
})

// Annual maintenance with end date
new MaintenanceWindow('five-year-plan', {
  name: '5-Year Infrastructure Plan',
  repeatInterval: 1,
  repeatUnit: 'YEAR',
  repeatEndsAt: new Date('2030-01-01T00:00:00.000Z'), // End after 5 years
  tags: ['infrastructure']
})
```

**Use cases**: Limited-time maintenance periods, project-based scheduling, planned end dates.
</ResponseField>

## Examples

<Tabs>
  <Tab title="Database Maintenance">
    ```ts
    new MaintenanceWindow('database-maintenance', {
      name: 'Monthly Database Maintenance',
      tags: ['database', 'production'],
      startsAt: new Date('2025-02-01T02:00:00.000Z'), // First Saturday of month at 2 AM UTC
      endsAt: new Date('2025-02-01T05:00:00.000Z'),   // Ends at 5 AM UTC
      repeatInterval: 1,
      repeatUnit: 'MONTH',
      repeatEndsAt: new Date('2025-12-31T23:59:59.000Z') // Repeat for a year
    })
    ```
  </Tab>
  
  <Tab title="Weekly System Updates">
    ```ts
    new MaintenanceWindow('system-updates', {
      name: 'Weekly System Updates',
      tags: ['infrastructure', 'updates'],
      startsAt: new Date('2025-02-02T01:00:00.000Z'), // Every Sunday at 1 AM UTC
      endsAt: new Date('2025-02-02T02:30:00.000Z'),   // 1.5 hour window
      repeatInterval: 1,
      repeatUnit: 'WEEK',
      repeatEndsAt: new Date('2025-06-01T00:00:00.000Z') // Repeat until June
    })
    ```
  </Tab>
  
  <Tab title="Annual Service Upgrade">
    ```ts
    new MaintenanceWindow('annual-upgrade', {
      name: 'Annual Service Upgrade',
      tags: ['all-services'],
      startsAt: new Date('2025-12-25T00:00:00.000Z'), // Christmas Day
      endsAt: new Date('2025-12-26T08:00:00.000Z'),   // 32-hour window
      repeatInterval: 1,
      repeatUnit: 'YEAR',
      repeatEndsAt: new Date('2030-01-01T00:00:00.000Z') // Repeat for 5 years
    })
    ```
  </Tab>
  
  <Tab title="Emergency Maintenance">
    ```ts
    // For immediate one-time maintenance
    const now = new Date()
    const inOneHour = new Date(now.getTime() + (60 * 60 * 1000))
    const inFourHours = new Date(now.getTime() + (4 * 60 * 60 * 1000))

    new MaintenanceWindow('emergency-fix', {
      name: 'Emergency Security Patch',
      tags: ['security', 'critical'],
      startsAt: inOneHour,   // Start in 1 hour
      endsAt: inFourHours    // End in 4 hours (no repeat)
    })
    ```
  </Tab>
  
  <Tab title="Regional Maintenance">
    ```ts
    // US East maintenance
    new MaintenanceWindow('us-east-maintenance', {
      name: 'US East Data Center Maintenance',
      tags: ['us-east', 'infrastructure'],
      startsAt: new Date('2025-02-15T05:00:00.000Z'), // 12 AM EST
      endsAt: new Date('2025-02-15T09:00:00.000Z'),   // 4 AM EST
      repeatInterval: 3,
      repeatUnit: 'MONTH', // Every 3 months
      repeatEndsAt: new Date('2025-12-31T23:59:59.000Z')
    })

    // Europe maintenance (different time)
    new MaintenanceWindow('europe-maintenance', {
      name: 'Europe Data Center Maintenance',
      tags: ['europe', 'infrastructure'],
      startsAt: new Date('2025-02-16T02:00:00.000Z'), // 3 AM CET
      endsAt: new Date('2025-02-16T06:00:00.000Z'),   // 7 AM CET
      repeatInterval: 3,
      repeatUnit: 'MONTH',
      repeatEndsAt: new Date('2025-12-31T23:59:59.000Z')
    })
    ```
  </Tab>
  
  <Tab title="Service-Specific Maintenance">
    ```ts
    // API service maintenance
    new MaintenanceWindow('api-maintenance', {
      name: 'API Service Upgrade',
      tags: ['api', 'backend'],
      startsAt: new Date('2025-02-20T03:00:00.000Z'),
      endsAt: new Date('2025-02-20T04:00:00.000Z')
    })

    // Frontend deployment
    new MaintenanceWindow('frontend-deployment', {
      name: 'Frontend Deployment',
      tags: ['frontend', 'web'],
      startsAt: new Date('2025-02-20T04:30:00.000Z'),
      endsAt: new Date('2025-02-20T05:00:00.000Z')
    })

    // Database migration (longer window)
    new MaintenanceWindow('database-migration', {
      name: 'Database Schema Migration',
      tags: ['database', 'migration'],
      startsAt: new Date('2025-02-22T01:00:00.000Z'),
      endsAt: new Date('2025-02-22T07:00:00.000Z') // 6-hour window
    })
    ```
  </Tab>
</Tabs>


## Time Zone Considerations

All maintenance windows use UTC timestamps. Convert your local times to UTC:

<Tabs>
  <Tab title="EST/EDT Example">
    ```ts
    // Maintenance during EST night hours (2 AM - 6 AM EST)
    new MaintenanceWindow('est-maintenance', {
      name: 'US East Coast Maintenance',
      tags: ['us-east'],
      startsAt: new Date('2025-02-15T07:00:00.000Z'), // 2 AM EST = 7 AM UTC
      endsAt: new Date('2025-02-15T11:00:00.000Z'),   // 6 AM EST = 11 AM UTC
      repeatInterval: 1,
      repeatUnit: 'WEEK'
    })
    ```
  </Tab>
  
  <Tab title="CET/CEST Example">
    ```ts
    // Maintenance during CET night hours (1 AM - 4 AM CET)
    new MaintenanceWindow('cet-maintenance', {
      name: 'Europe Maintenance',
      tags: ['europe'],
      startsAt: new Date('2025-02-15T00:00:00.000Z'), // 1 AM CET = 12 AM UTC
      endsAt: new Date('2025-02-15T03:00:00.000Z'),   // 4 AM CET = 3 AM UTC
      repeatInterval: 2,
      repeatUnit: 'WEEK'
    })
    ```
  </Tab>
  
  <Tab title="Dynamic Time Calculation">
    ```ts
    // Calculate maintenance window times dynamically
    const getNextSundayAt2AM = () => {
      const now = new Date()
      const nextSunday = new Date(now)
      nextSunday.setDate(now.getDate() + (7 - now.getDay()))
      nextSunday.setUTCHours(2, 0, 0, 0) // 2 AM UTC
      return nextSunday
    }

    const maintenanceStart = getNextSundayAt2AM()
    const maintenanceEnd = new Date(maintenanceStart.getTime() + (3 * 60 * 60 * 1000)) // +3 hours

    new MaintenanceWindow('dynamic-maintenance', {
      name: 'Dynamic Sunday Maintenance',
      tags: ['weekly-maintenance'],
      startsAt: maintenanceStart,
      endsAt: maintenanceEnd,
      repeatInterval: 1,
      repeatUnit: 'WEEK'
    })
    ```
  </Tab>
</Tabs>

## Best Practices

<Warning>
**Tag Matching**: Maintenance windows affect ALL checks that have ANY of the specified tags. Be specific with your tags to avoid affecting unintended checks.
</Warning>

<Info>
**Time Zones**: Always use UTC timestamps for consistency across different time zones. Convert your local maintenance times to UTC.
</Info>

<Tabs>
  <Tab title="Advance Notice">
    ```ts
    // Schedule maintenance well in advance
    const nextMonth = new Date()
    nextMonth.setMonth(nextMonth.getMonth() + 1)
    nextMonth.setUTCHours(2, 0, 0, 0) // 2 AM UTC

    const maintenanceEnd = new Date(nextMonth.getTime() + (4 * 60 * 60 * 1000))

    new MaintenanceWindow('planned-maintenance', {
      name: 'Planned Infrastructure Upgrade',
      tags: ['infrastructure'],
      startsAt: nextMonth,
      endsAt: maintenanceEnd
    })
    ```
  </Tab>
  
  <Tab title="Appropriate Duration">
    ```ts
    // Short maintenance for minor updates
    new MaintenanceWindow('quick-update', {
      name: 'Quick Security Patch',
      tags: ['security'],
      startsAt: new Date('2025-02-15T03:00:00.000Z'),
      endsAt: new Date('2025-02-15T03:30:00.000Z') // 30 minutes
    })

    // Longer maintenance for major changes
    new MaintenanceWindow('major-upgrade', {
      name: 'Major System Upgrade',
      tags: ['all-systems'],
      startsAt: new Date('2025-02-15T02:00:00.000Z'),
      endsAt: new Date('2025-02-15T08:00:00.000Z') // 6 hours
    })
    ```
  </Tab>
</Tabs>