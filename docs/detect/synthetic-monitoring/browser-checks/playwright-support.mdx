---
title: Playwright Support in Checkly
sidebarTitle: 'Playwright Support'
---


Checkly natively supports running complex browser checks that mimic real user actions using Playwright, the best automation framework. Playwright and Checkly together elevate your monitoring and debugging experience by providing:

- Detailed trace files with step-by-step information on your test cases
- Video recordings of browser sessions
- Automatic `awaits` for reliable automation
- Diverse set of assertions like `toContainText()`, `toHaveURL()`
- Easy to use locators like `getByTitle`, `getByRole`
- Visual regression testing


## Features

This is the list of Playwright features that are currently supported. We will update it as more features become supported.

| Feature                  | Supported?                                                                                                                |
|--------------------------|---------------------------------------------------------------------------------------------------------------------------|
| Trace files              | Yes                                                                                                                       |
| Video recordings         | Yes                                                                                                                       |
| API testing              | Yes                                                                                                                       |
| Custom fixtures          | Yes                                                                                                                       |
| Reporters                | JSON                                                                          |
| Typescript               | Yes                                                                                                                       |
| Global configuration     | Yes, a subset of playwright config options.                                                                               |
| Visual comparisons       | Yes                                           |
| Test retry               | No, enable Checkly's ["Double-check on failure"](/docs/communicate/alerts/configuration) in the check settings to retry a check. |
| Parallelism and sharding | No                                                                                                                        |



## Supported configuration options

We currently support the following configuration options. We will update this list as more options become supported.

> We do not support the `projects`, `globalSetup`, `globalTeardown` and `storageState` options yet, but will in a future release.

<Tabs>
  <Tab title="Global">
    | Option           | Supported |
    |------------------|-----------|
    | `timeout`        | ✅         |
    | `use`            | ✅         |
    | `expect`         | ✅         |
    | `testDir`        | ❌         |
    | `fullyParallel`  | ❌         |
    | `forbidOnly`     | ❌         |
    | `retries`        | ❌         |
    | `workers`        | ❌         |
    | `reporter`       | ❌         |
    | `testMatch`      | ❌         |
    | `testIgnore`     | ❌         |
    | `outputDir`      | ❌         |
    | `globalSetup`    | ❌         |
    | `globalTeardown` | ❌         |
    | `projects`       | ❌         |
    | `webServer`      | ❌         |

    For more information about the `global` options you can check playwright official documentation [Test configuration](https://playwright.dev/docs/test-configuration)
  </Tab>
  <Tab title="Use">
    | Option               | Supported |
    |----------------------|-----------|
    | `baseURL`            | ✅         |
    | `colorScheme`        | ✅         |
    | `geolocation`        | ✅         |
    | `locale`             | ✅         |
    | `permissions`        | ✅         |
    | `timezoneId`         | ✅         |
    | `viewport`           | ✅         |
    | `deviceScaleFactor`  | ✅         |
    | `hasTouch `          | ✅         |
    | `isMobile `          | ✅         |
    | `javaScriptEnabled ` | ✅         |
    | `extraHTTPHeaders`   | ✅         |
    | `httpCredentials`    | ✅         |
    | `ignoreHTTPSErrors`  | ✅         |
    | `offline`            | ✅         |
    | `actionTimeout`      | ✅         |
    | `navigationTimeout ` | ✅         |
    | `testIdAttribute`    | ✅         |
    | `connectOptions`     | ✅         |
    | `contextOptions`     | ✅         |
    | `bypassCSP`          | ✅         |
    | `proxy`              | ✅         |
    | `launchOptions`      | ❌         |
    | `storageState`       | ❌         |
    | `browserName`        | ❌         |
    | `channel`            | ❌         |
    | `headless`           | ❌         |
    | `screenshot`         | ❌         |
    | `trace`              | ❌         |
    | `video`              | ❌         |

    For more information about the `use` options you can check playwright official documentation [Test use options](https://playwright.dev/docs/test-use-options)
  </Tab>
  <Tab title="Expect">
    | Option              | Supported |
    |---------------------|-----------|
    | `timeout`           | ✅         |
    | `toHaveScreenshot ` | ✅         |
    | `toMatchSnapshot `  | ✅         |

    For more information about the `expect` options you can check playwright official documentation [Test Expect options](https://playwright.dev/docs/test-configuration#expect-options)
  </Tab>
</Tabs>


> [!WARNING]
> A check using [the Playwright Test Runner (`@playwright/test`)](https://playwright.dev/docs/intro) will currently run around 30-50% longer than [a regular Playwright check (`playwright`)](https://playwright.dev/docs/library). This is caused by the automatic creation of trace and video assets. We are aware of this and are investigating solutions. If this is significantly degrading the performance of your check, we recommend to divide longer tests into multiple checks.


## Global configuration

We are gradually rolling out support for global configuration options for the Playwright Test Runner. This allows you to 
configure your Playwright tests in a single place, instead of having to repeat the same configuration for each test file.

<Warning> This feature is in **beta** and is only available when using the Checkly CLI to manage your checks and associated `.spec.ts|js` files.</Warning>

There are three things you should be aware of:
1. You can only use a subset of the Playwright config options. See the [supported configuration options](#supported-configuration-options) section for more information.
2. You need to add the `playwrightConfig` section to your `checkly.config.ts` file, nested under the `browserChecks` section.
3. We explicitly do not read from the existing `playwright.config.ts` or `playwright.config.js` file in your project. This is to avoid any confusion about which config file is used to run your tests and to prevent any unexpected behaviour.


If you have an existing `playwright.config.ts` or `playwright.config.js` file in your project that you want to import, 
you can simply run the [sync-playwright](/cli/checkly-sync-playwright)

```bash
npx checkly sync-playwright
```

This command will add currently supported Playwright config option to your `checkly.config.ts` file.

<Tabs>
  <Tab title="TypeScript">
    ```typescript {title="checkly.config.ts"}
import { defineConfig } from 'checkly'

export default defineConfig({
  projectName: 'Website Monitoring',
  logicalId: 'website-monitoring-1',
  repoUrl: 'https://github.com/acme/website',
  checks: {
    checkMatch: '**/*.check.js',
    playwrightConfig: {         // note the extra playwrightConfig section
      timeout: 1234,
      use: {
        baseURL: 'https://www.checklyhq.com',
        isMobile: true,
      },
      expect: {
        toHaveScreenshot: {
          maxDiffPixels: 10,
        }
      }
    },
    browserChecks: {
      testMatch: '**/*.spec.js',
    },
  },
  cli: {
    runLocation: 'eu-west-1',
    privateRunLocation: 'private-dc1'
  }
})
```
  </Tab>
  <Tab title="JavaScript">
    ```js {title="checkly.config.js"}
const { defineConfig } = require('checkly')

const config = defineConfig({
  projectName: 'Website Monitoring',
  logicalId: 'website-monitoring-1',
  repoUrl: 'https://github.com/acme/website',
  checks: {
    checkMatch: '**/*.check.js',
    playwrightConfig: {           // note the extra playwrightConfig section
      timeout: 1234,
      use: {
        baseURL: 'https://www.checklyhq.com',
        isMobile: true,
      },
      expect: {
        toHaveScreenshot: {
          maxDiffPixels: 10,
        }
      }
    },
    browserChecks: {
      testMatch: '**/*.spec.js',
    },
  },
  cli: {
    runLocation: 'eu-west-1',
    privateRunLocation: 'private-dc1'
  }
})

module.exports = config;
```
  </Tab>
</Tabs>

## Checks with multiple test cases
One of the key benefits of using Playwright Test is that you can split your check into multiple independent test cases, and group them using the `test.describe` function. Your Checkly check will fail if **at least one** of the test cases fails.

<Tabs>
  <Tab title="TypeScript">
    ```ts {title="example.spec.ts"}
import { test } from '@playwright/test';

test.describe('two tests', () => {
  test('one', async ({ page }) => {
    // ...
  })

  test('two', async ({ page }) => {
    // ...
  })
})
```
  </Tab>
  <Tab title="JavaScript">
    ```js {title="example.spec.js"}
const { test } = require('@playwright/test')

test.describe('two tests', () => {
  test('one', async ({ page }) => {
    // ...
  })

  test('two', async ({ page }) => {
    // ...
  })
})
```
  </Tab>
</Tabs>

<Note> An executed browser check that includes multiple Playwright test cases still counts as a single check run towards your pricing plan's defined limits.</Note>